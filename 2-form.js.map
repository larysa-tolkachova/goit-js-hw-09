{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n    email: \"\",\n    message: \"\"\n}\n\nconst LS_key = \"feedback-form-state\";\n\nconst form = document.querySelector(\".feedback-form\");\nconst input = form.querySelector('input[name=\"email\"]');\nconst textarea = form.querySelector('textarea[name=\"message\"]');\nconst button = form.querySelector(\"button\");\n\n\nform.addEventListener(\"submit\", handleSubmit);\nform.addEventListener(\"input\", inputDan);\n\n//отримуємо дані з LS і передаємо в поля\nfunction relevantDan() {\n    try {\n        if (localStorage.length === 0) {\n            return\n        }\n    \n    const lsDan = JSON.parse(localStorage.getItem(LS_key));\n        \n    input.value = lsDan.email;\n    textarea.value = lsDan.message;  \n        \n        for (const key in lsDan) {\n            \n            form.elements[key].value = lsDan[key];\n        }\n    \n    } catch (error) {\n        console.log(error);\n    } \n    \n}\n\nrelevantDan();\n\n// беремо дані з поля і передаємо в LS\nfunction inputDan(event) {\n    const input = event.target.name;\n     \n    if (input === 'email' || input === 'message') {\n        formData[input] = event.target.value.trim();\n               \n        localStorage.setItem(LS_key, JSON.stringify(formData));\n         \n    }\n}\n\n//передаємо дані та очищаємо форму та LS\nfunction handleSubmit(event) {\n    event.preventDefault();\n    \n    if (input.value === \"\" || textarea.value === \"\") {\n        alert(\"«Fill please all fields»\");        \n    }\n\n    console.log(`Email: ${input.value}\\nMessage: ${textarea.value}`); \n    event.currentTarget.reset();\n    localStorage.removeItem(LS_key);\n}\n\n\n"],"names":["formData","LS_key","form","input","textarea","handleSubmit","inputDan","relevantDan","lsDan","key","error","event"],"mappings":"oCAAA,MAAMA,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAEMC,EAAS,sBAETC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQD,EAAK,cAAc,qBAAqB,EAChDE,EAAWF,EAAK,cAAc,0BAA0B,EAC/CA,EAAK,cAAc,QAAQ,EAG1CA,EAAK,iBAAiB,SAAUG,CAAY,EAC5CH,EAAK,iBAAiB,QAASI,CAAQ,EAGvC,SAASC,GAAc,CACnB,GAAI,CACA,GAAI,aAAa,SAAW,EACxB,OAGR,MAAMC,EAAQ,KAAK,MAAM,aAAa,QAAQP,CAAM,CAAC,EAErDE,EAAM,MAAQK,EAAM,MACpBJ,EAAS,MAAQI,EAAM,QAEnB,UAAWC,KAAOD,EAEdN,EAAK,SAASO,CAAG,EAAE,MAAQD,EAAMC,CAAG,CAG3C,OAAQC,EAAO,CACZ,QAAQ,IAAIA,CAAK,CACpB,CAEL,CAEAH,IAGA,SAASD,EAASK,EAAO,CACrB,MAAMR,EAAQQ,EAAM,OAAO,MAEvBR,IAAU,SAAWA,IAAU,aAC/BH,EAASG,CAAK,EAAIQ,EAAM,OAAO,MAAM,OAErC,aAAa,QAAQV,EAAQ,KAAK,UAAUD,CAAQ,CAAC,EAG7D,CAGA,SAASK,EAAaM,EAAO,CACzBA,EAAM,eAAc,GAEhBR,EAAM,QAAU,IAAMC,EAAS,QAAU,KACzC,MAAM,0BAA0B,EAGpC,QAAQ,IAAI,UAAUD,EAAM,KAAK;AAAA,WAAcC,EAAS,KAAK,EAAE,EAC/DO,EAAM,cAAc,QACpB,aAAa,WAAWV,CAAM,CAClC"}